import{S as $,T as z}from"./SearchForm-KVUvryWi.js";import{W as L}from"./WForm-ky_TTvqU.js";import{_ as V,a as r,u as R,o as p,U as W,w as l,e as K,c as s,g as v,f as m,a1 as q,i as b,j as D,B as A,b as M,d as k,$ as B,V as E}from"./index-T6jVmJWE.js";import{_ as O}from"./index-BkvwKEQV.js";import{u as U,_ as G}from"./index.es-C6lXCZft.js";import"./index-DXzHBzYR.js";import"./Col-8k6je_vT.js";import"./debounce-BNUqQ2Lb.js";import"./index-DzFj7X2A.js";import"./List-37MBTKWb.js";import"./index-BDhfaTZn.js";import"./index-DsyquqNL.js";const J={class:"footer"},j={__name:"Edit",emits:["success"],setup(F,{expose:x,emit:_}){const o=r({}),a=r(!1),i=r(""),S=_,u=r(!1),{SEND_MESSAGE:h}=R(),w=async()=>{if(!await i.value.validate())return;const e={type:"setAiBoxNetwork",...o.value};b.on(e.type,t=>{t.result===0?(D.success("æ“ä½œæˆåŠŸ"),a.value=!1,S("success")):D.error("è¯·æ±‚å¤±è´¥"),u.value=!1,b.off(e.type)}),u.value=!0,h(e)},y=d=>{o.value=JSON.parse(JSON.stringify(d)),a.value=!0,u.value=!1},f=()=>{a.value=!1},C=[{type:"input",label:"ç½‘ç»œåç§°",key:"name"},{type:"select",label:"åˆ†é…æ–¹å¼",key:"dhcp",list:[{value:0,label:"æ‰‹åŠ¨é…ç½®"},{value:1,label:"è‡ªåŠ¨é…ç½®"}]},{type:"input",label:"ç½‘ç»œåœ°å€",key:"address"},{type:"input",label:"å­ç½‘æŽ©ç ",key:"mask"},{type:"input",label:"ç½‘å…³åœ°å€",key:"gateway"},{type:"input",label:"DNS",key:"dns"}],N={name:[{required:!0,message:"è¯·è¾“å…¥",trigger:"blur"}],address:[{required:!0,message:"è¯·è¾“å…¥",trigger:"blur"}],dhcp:[{required:!0,message:"è¯·è¾“å…¥",trigger:"blur"}],mask:[{required:!0,message:"è¯·è¾“å…¥",trigger:"blur"}],gateway:[{required:!0,message:"è¯·è¾“å…¥",trigger:"blur"}],dns:[{required:!0,message:"è¯·è¾“å…¥",trigger:"blur"}]};return x({showDrawer:y}),(d,e)=>{const t=A,n=O;return p(),W(n,{open:m(a),"onUpdate:open":e[1]||(e[1]=c=>q(a)?a.value=c:null),title:"ç¼–è¾‘",width:"520","footer-style":{textAlign:"right"},onClose:f},{footer:l(()=>[K("div",J,[s(t,{type:"primary",onClick:w},{default:l(()=>e[2]||(e[2]=[v("ç¡®è®¤")])),_:1}),s(t,{class:"close",onClick:f},{default:l(()=>e[3]||(e[3]=[v("å–æ¶ˆ")])),_:1})])]),default:l(()=>[s(L,{ref_key:"wFormRef",ref:i,modelValue:m(o),"onUpdate:modelValue":e[0]||(e[0]=c=>q(o)?o.value=c:null),formList:C,rules:N,labelWidth:"100px"},null,8,["modelValue"])]),_:1},8,["open"])}}},P=V(j,[["__scopeId","data-v-5542f433"]]),H={class:"networkConfig-container"},Q={key:0},X={key:1},Y={key:2},Z={__name:"index",setup(F){const{SEND_MESSAGE:x}=R(),_=r([]),o=r(0),a=M(()=>({total:o.value,current:h.value,pageSize:w.value})),i=()=>{const e={type:"getAiBoxNetwork"};b.on(e.type,t=>{t.result===0?_.value=t.data.Interfaces:D.error("è¯·æ±‚å¤±è´¥"),b.off(e.type)}),x(e)},{run:S,loading:u,current:h,pageSize:w}=U(i,{formatResult:e=>e.data.results,pagination:{currentKey:"page",pageSizeKey:"results"}}),y=r(""),f=e=>{y.value.showDrawer(e)},C=(e,t,n)=>{console.log("ðŸš€ ~ handleTableChange ~ pag, filters, sorter:",e,t,n),S({results:e.pageSize,page:e==null?void 0:e.current,sortField:n.field,sortOrder:n.order,...t})},N=[{type:"input",key:"keyWord",label:"ç½‘ç»œåç§°"},{type:"select",key:"screenKey",label:"è¿žæŽ¥çŠ¶æ€",list:[{value:"name",label:"å·²è¿žæŽ¥"},{value:"description",label:"æœªè¿žæŽ¥"},{value:"description",label:"è¿è¡Œä¸­"}]}],d=[{title:"ç½‘ç»œåç§°",dataIndex:"name",key:"name"},{title:"ç½‘ç»œåœ°å€",dataIndex:"address",key:"address"},{title:"å­ç½‘æŽ©ç ",dataIndex:"mask",key:"mask"},{title:"ç½‘å…³åœ°å€",dataIndex:"gateway",key:"gateway"},{title:"ç‰©ç†åœ°å€",dataIndex:"mac",key:"mac"},{title:"åˆ†é…æ–¹å¼",dataIndex:"dhcp",key:"dhcp",width:180},{title:"DNS",dataIndex:"dns",key:"dns"},{title:"è¿žæŽ¥çŠ¶æ€",key:"status",dataIndex:"status"},{title:"æ“ä½œ",key:"action"}];return(e,t)=>{const n=z,c=A,T=G;return p(),k("div",H,[s($,{searchList:N}),s(T,{columns:d,"data-source":m(_),pagination:m(a),loading:m(u),onChange:C,scroll:{x:!0,y:460}},{bodyCell:l(({column:I,record:g})=>[I.key==="status"?(p(),k("span",Q,[s(n,{color:g.status?"volcano":"green"},{default:l(()=>[v(B(g.status?"å¼‚å¸¸":"æ­£å¸¸"),1)]),_:2},1032,["color"])])):E("",!0),I.key==="dhcp"?(p(),k("span",X,B(g.dhcp?"è‡ªåŠ¨":"æ‰‹åŠ¨"),1)):E("",!0),I.key==="action"?(p(),k("span",Y,[s(c,{type:"link",onClick:ee=>f(g)},{default:l(()=>t[0]||(t[0]=[v("ç¼–è¾‘")])),_:2},1032,["onClick"])])):E("",!0)]),_:1},8,["data-source","pagination","loading"]),s(P,{ref_key:"editRef",ref:y,onSuccess:i},null,512)])}}},me=V(Z,[["__scopeId","data-v-254d9c2e"]]);export{me as default};
